# A Service provides a stable network endpoint to access your pods
# Even when pods are recreated or moved, the service name stays the same
apiVersion: v1
kind: Service
metadata:
  name: api
spec:
  # ClusterIP means the service is only accessible inside the cluster
  # Other types include NodePort (accessible from outside) and LoadBalancer (cloud load balancer)
  type: ClusterIP
  # Ports define how traffic is routed to pods
  ports:
    - name: http
      port: 80
      targetPort: http
      protocol: TCP
  # Selector matches pods that this service should route traffic to
  # Traffic is automatically load-balanced across matching pods
  selector:
    app: scalable-read-heavy-api
    component: api
